# HackRF HTTP/TCP Server Configuration
# ====================================
# This configuration file is preferred over environment variables.
# Lines starting with # are comments and will be ignored.
# Trailing commas in values are automatically removed.

# Network Configuration
# ---------------------
# IP address to bind servers to
# Use 127.0.0.1 for localhost only, 0.0.0.0 for all interfaces
BIND_ADDRESS=127.0.0.1

# TCP port for legacy serial protocol (format: CAPCODE|MESSAGE|FREQUENCY)
# Set to 0 to disable serial protocol
SERIAL_LISTEN_PORT=16175

# HTTP port for modern JSON API with authentication
# Set to 0 to disable HTTP API
# Note: At least one port must be enabled (non-zero)
HTTP_LISTEN_PORT=16180

# Authentication Configuration
# ---------------------------
# Path to password file for HTTP authentication (htpasswd format)
# Can be relative to current directory or absolute path
# Default: "passwords" (in current directory)
# System service default: "/var/lib/hackrf-server/passwords"
HTTP_AUTH_CREDENTIALS=passwords

# HackRF Hardware Configuration
# ----------------------------
# Sample rate in Hz (minimum 2000000 for stable operation)
# Higher rates provide better quality but use more CPU/memory
SAMPLE_RATE=2000000

# FSK bitrate in bits per second
# 1600 is minimum for FLEX 2FSK protocol
# Common values: 1600, 3200, 6400
BITRATE=1600

# Software signal amplitude (-127 to 127)
# 127 = maximum amplitude (100%)
# Lower values reduce signal strength
AMPLITUDE=127

# Frequency deviation in Hz
# FLEX 2FSK uses Â±2400Hz deviation (4800Hz total)
# This creates the frequency shift for 0/1 bits
FREQ_DEV=2400

# Hardware TX gain in dB (0-47)
# Start with 0 and increase as needed
# Higher values = stronger signal but more harmonics
TX_GAIN=0

# Default Parameters
# -----------------
# Default frequency in Hz when not specified in HTTP requests
# 931.937500 MHz is a common paging frequency
# Adjust based on your local paging frequency requirements
DEFAULT_FREQUENCY=931937500

# Configuration Notes:
# ===================
#
# JSON API Required Fields:
# - capcode: REQUIRED - Target pager capcode (numeric)
# - message: REQUIRED - Message text to send
# - frequency: OPTIONAL - Uses DEFAULT_FREQUENCY if omitted
#
# Password File Configuration:
# - HTTP_AUTH_CREDENTIALS specifies the path to the htpasswd-format password file
# - Can be relative path (e.g., "passwords", "auth/users.txt") or absolute path
# - Default credentials (admin/passw0rd) will be created if file doesn't exist
# - Use htpasswd command to manage users: htpasswd -B passwords username
# - Supported hash formats: bcrypt (-B), SHA512 (-6), MD5 (-m)
#
# Example Alternative Password File Paths:
# HTTP_AUTH_CREDENTIALS=/etc/hackrf/passwords
# HTTP_AUTH_CREDENTIALS=./auth/users.htpasswd
# HTTP_AUTH_CREDENTIALS=/var/lib/hackrf-server/passwords
#
# Frequency Planning:
# - Check local regulations and licensed frequencies
# - Common paging frequencies: 929-932 MHz, 152 MHz, 454 MHz
# - Ensure frequency is within HackRF range (1 MHz - 6 GHz)
#
# Performance Tuning:
# - Higher SAMPLE_RATE = better signal quality, more CPU usage
# - Lower AMPLITUDE = reduced signal strength, less interference
# - Adjust TX_GAIN based on transmission distance requirements
#
# Protocol Selection:
# - HTTP_LISTEN_PORT=0 disables JSON API (serial only)
# - SERIAL_LISTEN_PORT=0 disables TCP protocol (HTTP only)
# - Both protocols can run simultaneously
#
# Security Considerations:
# - Use BIND_ADDRESS=127.0.0.1 for local access only
# - Use BIND_ADDRESS=0.0.0.0 for network access (ensure firewall)
# - HTTP API requires authentication via HTTP_AUTH_CREDENTIALS file
# - Serial protocol has no built-in authentication
# - Store password files in secure locations with appropriate permissions
#
# Debug and Development:
# - Use --debug flag to generate IQ files without transmission
# - Use --verbose flag for comprehensive pipeline logging
# - Monitor output with: ./hackrf_http_server --verbose 2>&1 | tee server.log

# Example Alternative Configurations:
# ===================================
#
# High Performance Setup:
# SAMPLE_RATE=8000000
# BITRATE=3200
# AMPLITUDE=100
# TX_GAIN=25
#
# Low Power Setup:
# AMPLITUDE=64
# TX_GAIN=5
# FREQ_DEV=1200
#
# Development/Testing:
# BIND_ADDRESS=127.0.0.1
# SERIAL_LISTEN_PORT=0
# HTTP_LISTEN_PORT=16180
# HTTP_AUTH_CREDENTIALS=./test_passwords
# (HTTP only, local access, separate test credentials)
#
# Production Setup:
# BIND_ADDRESS=0.0.0.0
# HTTP_AUTH_CREDENTIALS=/etc/hackrf/passwords
# (Network accessible with secure password file location)
