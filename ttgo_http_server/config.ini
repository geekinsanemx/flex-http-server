# TTGO HTTP/TCP Server Configuration
# ===================================
# This configuration file is preferred over environment variables.
# Lines starting with # are comments and will be ignored.
# Trailing commas in values are automatically removed.

# Network Configuration
# ---------------------
# IP address to bind servers to
# Use 127.0.0.1 for localhost only, 0.0.0.0 for all interfaces
BIND_ADDRESS=127.0.0.1

# TCP port for legacy serial protocol (format: CAPCODE|MESSAGE|FREQUENCY)
# Set to 0 to disable serial protocol
SERIAL_LISTEN_PORT=16175

# HTTP port for modern JSON API with authentication
# Set to 0 to disable HTTP API
# Note: At least one port must be enabled (non-zero)
HTTP_LISTEN_PORT=16180

# Authentication Configuration
# ---------------------------
# Path to password file for HTTP authentication (htpasswd format)
# Can be relative to current directory or absolute path
# Default: "passwords" (in current directory)
# System service default: "/var/lib/ttgo-server/passwords"
HTTP_AUTH_CREDENTIALS=passwords

# TTGO Hardware Configuration
# ---------------------------
# Serial device path for TTGO ESP32 + SX127x module
# Common paths: /dev/ttyACM0, /dev/ttyUSB0, /dev/cu.usbmodem*, /dev/cu.SLAB_USBtoUART
# Windows: COM3, COM4, etc.
TTGO_DEVICE=/dev/ttyACM0

# Serial communication baudrate
# Must match the baudrate configured in ttgo-fsk-tx firmware
# Standard value: 115200
TTGO_BAUDRATE=115200

# TX power level (2-17)
# 2 = minimum power, 17 = maximum power
# Start with low values and increase as needed for range
# Higher values may cause interference or regulatory issues
TTGO_POWER=2

# Default Parameters
# -----------------
# Default frequency in Hz when not specified in HTTP requests
# 916.000000 MHz is a common ISM band frequency
# Adjust based on your local regulations and requirements
# Common frequencies: 433 MHz, 868 MHz, 915-928 MHz
DEFAULT_FREQUENCY=916000000

# Configuration Notes:
# ===================
#
# TTGO-FSK-TX Firmware:
# - This server requires TTGO ESP32 + SX127x module with ttgo-fsk-tx firmware
# - Firmware repository: https://github.com/rlaneth/ttgo-fsk-tx/
# - Supported modules: TTGO LoRa32, T-Beam, Heltec WiFi LoRa 32, etc.
#
# JSON API Required Fields:
# - capcode: REQUIRED - Target pager capcode (numeric)
# - message: REQUIRED - Message text to send
# - frequency: OPTIONAL - Uses DEFAULT_FREQUENCY if omitted
#
# Serial Device Detection:
# - Linux: Check dmesg | grep tty or ls /dev/ttyACM* /dev/ttyUSB*
# - macOS: ls /dev/cu.* | grep -E "(usbmodem|SLAB)"
# - Windows: Check Device Manager -> Ports (COM & LPT)
#
# Power Level Guidelines:
# - TTGO_POWER=2-5:  Short range, minimal interference
# - TTGO_POWER=6-10:  Medium range, indoor use
# - TTGO_POWER=11-17: Long range, outdoor use (check regulations)
#
# Frequency Planning:
# - Check local regulations for ISM band usage
# - Common ISM frequencies:
#   * 433.050-434.790 MHz (Europe, Asia)
#   * 868.000-868.600 MHz (Europe)
#   * 902.000-928.000 MHz (Americas)
#   * 2400-2500 MHz (Global ISM band)
#
# Protocol Selection:
# - HTTP_LISTEN_PORT=0 disables JSON API (serial only)
# - SERIAL_LISTEN_PORT=0 disables TCP protocol (HTTP only)
# - Both protocols can run simultaneously
#
# Security Considerations:
# - Use BIND_ADDRESS=127.0.0.1 for local access only
# - Use BIND_ADDRESS=0.0.0.0 for network access (ensure firewall)
# - HTTP API requires authentication via HTTP_AUTH_CREDENTIALS file
# - Serial protocol has no built-in authentication
# - Store password files in secure locations with appropriate permissions
#
# Troubleshooting:
# - Use --debug flag to test without transmission
# - Use --verbose flag for comprehensive pipeline logging
# - Check TTGO device permissions: sudo usermod -a -G dialout $USER
# - Verify firmware is loaded: screen /dev/ttyACM0 115200 (Ctrl+A, K to exit)
# - Monitor with: ./ttgo_http_server --verbose 2>&1 | tee server.log

# Example Alternative Configurations:
# ===================================
#
# High Power Setup (check regulations):
# TTGO_POWER=15
# DEFAULT_FREQUENCY=915000000
#
# European ISM Band:
# DEFAULT_FREQUENCY=868000000
# TTGO_POWER=5
#
# Development/Testing:
# BIND_ADDRESS=127.0.0.1
# SERIAL_LISTEN_PORT=0
# HTTP_LISTEN_PORT=16180
# TTGO_POWER=2
# (HTTP only, local access, minimal power)
#
# Production Setup:
# BIND_ADDRESS=0.0.0.0
# HTTP_AUTH_CREDENTIALS=/etc/ttgo/passwords
# TTGO_POWER=10
# (Network accessible with secure password file location)
#
# Multiple Device Setup:
# TTGO_DEVICE=/dev/ttyACM1
# HTTP_LISTEN_PORT=16181
# SERIAL_LISTEN_PORT=16176
# (Different device and ports for multiple instances)
